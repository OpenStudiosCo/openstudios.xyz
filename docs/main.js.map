{"version":3,"file":"main.js","sources":["../src/scripts/main.js"],"sourcesContent":["import '../styles/main.css';\r\n\r\nimport { animate } from \"popmotion\";\r\n\r\n// Initialiser.\r\nfunction init(fn) {\r\n    // see if DOM is already available\r\n    if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\r\n        // call on next available tick\r\n        setTimeout(fn, 1);\r\n    } else {\r\n        document.addEventListener(\"DOMContentLoaded\", fn);\r\n    }\r\n}\r\n\r\n// Callback to run once initialised.\r\nfunction begin() {\r\n    $(document)\r\n        .ready(function () {\r\n\r\n            $('video').each(function () {\r\n                this.loop = true;\r\n                this.play();\r\n            });\r\n\r\n            // Background effect\r\n            var camera = new THREE.Camera();\r\n            camera.position.z = 1;\r\n\r\n            var scene = new THREE.Scene();\r\n\r\n            var geometry = new THREE.PlaneBufferGeometry(2, 2);\r\n\r\n            var uniforms = {\r\n                time: { type: \"f\", value: 2.0 },\r\n                resolution: { type: \"v2\", value: new THREE.Vector2() },\r\n                mouse: { type: \"v2\", value: new THREE.Vector2() },\r\n            };\r\n\r\n            var material = new THREE.ShaderMaterial({\r\n                uniforms: uniforms,\r\n                vertexShader: $('#vs').text(),\r\n                fragmentShader: $('#fs').text(),\r\n            });\r\n\r\n            var mesh = new THREE.Mesh(geometry, material);\r\n            scene.add(mesh);\r\n\r\n            var renderer = new THREE.WebGLRenderer();\r\n            document.body.appendChild(renderer.domElement);\r\n            renderer.domElement.addEventListener('mousemove', recordMousePosition);\r\n\r\n            render(0);\r\n\r\n            function recordMousePosition(e) {\r\n                // normalize the mouse position across the canvas\r\n                // so in the shader the values go from -1 to +1\r\n                var canvas = renderer.domElement;\r\n                var rect = canvas.getBoundingClientRect();\r\n\r\n                uniforms.mouse.value.x = (e.clientX - rect.left) / canvas.clientWidth * 2 - 1;\r\n                uniforms.mouse.value.y = (e.clientY - rect.top) / canvas.clientHeight * -2 + 1;\r\n            }\r\n\r\n            function resize() {\r\n                var canvas = renderer.domElement;\r\n                var dpr = window.devicePixelRatio;  // make 1 or less if too slow\r\n                var width = canvas.clientWidth * dpr;\r\n                var height = canvas.clientHeight * dpr;\r\n                if (width != canvas.width || height != canvas.height) {\r\n                    renderer.setSize(width, height, false);\r\n                    uniforms.resolution.value.x = renderer.domElement.width;\r\n                    uniforms.resolution.value.y = renderer.domElement.height;\r\n                }\r\n\r\n                $('.ui.container').css('marginTop', (window.innerHeight / 2) - ($('.ui.container').height() / 2));\r\n            }\r\n\r\n            function render(time) {\r\n                resize();\r\n                uniforms.time.value = time * 0.001;\r\n                renderer.render(scene, camera);\r\n                requestAnimationFrame(render);\r\n            }\r\n\r\n        })\r\n        ;\r\n\r\n}\r\n\r\n// Start the app.\r\ninit(begin);\r\n"],"names":[],"mappings":"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"}